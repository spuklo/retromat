(function(t){function e(e){for(var n,o,l=e[0],i=e[1],c=e[2],d=0,f=[];d<l.length;d++)o=l[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&f.push(s[o][0]),s[o]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);u&&u(e);while(f.length)f.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,l=1;l<a.length;l++){var i=a[l];0!==s[i]&&(n=!1)}n&&(r.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},s={app:0},r=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var u=i;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var n=a("85ec"),s=a.n(n);s.a},"183d":function(t,e,a){},"28af":function(t,e,a){"use strict";var n=a("183d"),s=a.n(n);s.a},"2d7d":function(t,e,a){},"2ea6":function(t,e,a){"use strict";var n=a("78f8"),s=a.n(n);s.a},"35d5":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("SafetyCheck"),a("el-container",[a("el-header",[a("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"space-around"}},[a("el-col",{staticClass:"el-col-center",attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple"},[a("Stats")],1)]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("AddCard")],1)])],1)],1),a("el-main",[a("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"space-around"}},[a("el-col",{attrs:{span:11}},[a("CardList",{attrs:{cardType:"POSITIVE"}})],1),a("el-col",{attrs:{span:11}},[a("CardList",{attrs:{cardType:"NEGATIVE"}})],1)],1),a("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"space-around"}},[a("el-col",{attrs:{span:11}},[a("CardList",{attrs:{cardType:"OTHER"}})],1),a("el-col",{attrs:{span:11}},[a("CardList",{attrs:{cardType:"ACTION"}})],1)],1)],1)],1)],1)},r=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-tag",{attrs:{type:"info"}},[t._v("Users: "+t._s(t.getStats.sessions))]),a("el-tag",{attrs:{type:"danger"}},[t._v("Min safety level: "+t._s(t.getStats.min_safety))]),a("el-tag",{attrs:{type:"warning"}},[t._v("Avg safety level: "+t._s(t.getStats.avg_safety))]),a("el-tag",{attrs:{type:"info"}},[t._v("Max safety level: "+t._s(t.getStats.max_safety))]),a("el-tag",{attrs:{type:"info"}},[t._v("Votes remaining: "+t._s(t.votesRemaining))])],1)},l=[],i=a("5530"),c=a("2f62"),u={name:"Stats",computed:Object(i["a"])({},Object(c["c"])(["getStats","votesRemaining"]))},d=u,f=(a("743c"),a("2877")),p=Object(f["a"])(d,o,l,!1,null,"732d758d",null),v=p.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"Safety check",visible:t.dialogVisible,"show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,center:""},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("span",{staticClass:"longer-text"},[t._v('"Regardless of what we discover, we understand and truly believe that everyone did the best job they could, given what they knew at the time, their skills and abilities, the resources available, and the situation at hand."')]),a("el-form",{model:{value:t.form,callback:function(e){t.form=e},expression:"form"}},[a("el-form-item",{attrs:{label:"Safety check"}},[a("el-select",{attrs:{placeholder:"Please specify your safety level"},model:{value:t.form.safetyLevel,callback:function(e){t.$set(t.form,"safetyLevel",e)},expression:"form.safetyLevel"}},[a("el-option",{attrs:{label:"No problem, I'll talk about anything",value:"5"}}),a("el-option",{attrs:{label:"I'll talk about almost anything; a few things may be difficult",value:"4"}}),a("el-option",{attrs:{label:"I'll talk about some things, but others will be hard to say",value:"3"}}),a("el-option",{attrs:{label:"I'm not going to say much, I'll let others bring up issues",value:"2"}}),a("el-option",{attrs:{label:"I'll smile, claim everything is great and agree with managers",value:"1"}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.sendSafetyCheck}},[t._v("Confirm")])],1)],1)},m=[],b={name:"SafetyCheck",data:function(){return{dialogVisible:!0,formLabelWidth:"120px",form:{safetyLevel:""}}},methods:{sendSafetyCheck:function(){if(""!=this.form.safetyLevel){var t={type:"SAFETY_LEVEL",body:{level:this.form.safetyLevel}};this.$socket.send(JSON.stringify(t)),this.dialogVisible=!1}}}},h=b,g=(a("8129"),Object(f["a"])(h,y,m,!1,null,"450efaf8",null)),_=g.exports,O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h4",[t._v(t._s(t.cardType))]),t._l(t.sortedCards,(function(t){return a("div",{key:t.id,staticClass:"spaced"},[a("CardDetails",{attrs:{card:t}})],1)}))],2)},C=[],S=(a("4de4"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{on:{dblclick:function(e){return t.toggleVoted(e)}}},[t._v(" "+t._s(t.card.votes)+" "),t.voted?a("i",{staticClass:"el-icon-star-on"}):a("i",{staticClass:"el-icon-star-off"}),t._v(" "+t._s(t.card.text)+" ")])}),w=[],x={name:"CardDetails",props:{card:{}},data:function(){return{voted:!1}},methods:Object(i["a"])({},Object(c["b"])(["handleVote"]),{},Object(c["c"])(["votesRemaining"]),{toggleVoted:function(t){if(t.preventDefault(),t.stopPropagation(),this.votesRemaining()>0||this.voted){this.voted=!this.voted,this.handleVote(this.voted);var e={type:"VOTE",body:{id:this.card.id,vote:this.voted?1:-1}};this.$socket.send(JSON.stringify(e))}return!1}})},E=x,k=Object(f["a"])(E,S,w,!1,null,"b55b4eae",null),T=k.exports,j={name:"CardList",props:{cardType:String},methods:Object(i["a"])({},Object(c["c"])(["getCards"])),computed:{sortedCards:function(){var t=this,e=this.getCards().filter((function(e){return e.type==t.cardType})),a=e.sort((function(t,e){return t.id-e.id}));return a.sort((function(t,e){return e.votes-t.votes}))}},components:{CardDetails:T}},I=j,V=(a("2ea6"),Object(f["a"])(I,O,C,!1,null,"021335a8",null)),A=V.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{attrs:{gutter:15}},[a("el-form",{attrs:{inline:!0},model:{value:t.form,callback:function(e){t.form=e},expression:"form"}},[a("el-col",{attrs:{span:5}},[a("el-select",{attrs:{placeholder:"Card type",prop:"type",size:"small"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[a("el-option",{attrs:{label:"POSITIVE",value:"POSITIVE"}}),a("el-option",{attrs:{label:"NEGATIVE",value:"NEGATIVE"}}),a("el-option",{attrs:{label:"APPRECIATION",value:"APPRECIATION"}}),a("el-option",{attrs:{label:"IDEA",value:"IDEA"}}),a("el-option",{attrs:{label:"OTHER",value:"OTHER"}}),a("el-option",{attrs:{label:"ACTION",value:"ACTION"}})],1)],1),a("el-col",{attrs:{span:15}},[a("el-input",{attrs:{placeholder:"I'd like to say...",size:"small"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submitNewRetroCard(e)}},model:{value:t.form.text,callback:function(e){t.$set(t.form,"text",e)},expression:"form.text"}})],1),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.submitNewRetroCard}},[t._v("Add")])],1)],1)],1)],1)},R=[],P={name:"AddCard",data:function(){return{dialogVisible:!1,form:{text:"",type:""}}},methods:{submitNewRetroCard:function(){if(!(""==this.form.type||this.form.text.length<3)){var t={type:"CARD",body:{type:this.form.type,text:this.form.text}};this.$socket.send(JSON.stringify(t)),this.dialogVisible=!1,this.form.text="",this.form.type=""}}}},L=P,$=(a("28af"),Object(f["a"])(L,N,R,!1,null,"8962663a",null)),D=$.exports,M={name:"App",components:{Stats:v,SafetyCheck:_,CardList:A,AddCard:D}},J=M,G=(a("034f"),Object(f["a"])(J,s,r,!1,null,null,null)),z=G.exports;n["default"].use(c["a"]);var H={stats:{sessions:0,safety_levels:0,min_safety:0,max_safety:0,avg_safety:0},cards:[],connected:!1,votes_remaining:5},K={getStats:function(t){return t.stats},votesRemaining:function(t){return t.votes_remaining},getCards:function(t){return t.cards}},U={SOCKET_ONOPEN:function(t){t.connected=!0},SOCKET_ONCLOSE:function(t){t.connected=!1},SOCKET_ONMESSAGE:function(t,e){if(console.log(e),e.data){var a=JSON.parse(e.data);"STATS"==a.type?t.stats=a.body:"RETRO"==a.type?t.cards=a.body.cards:"CARD"==a.type&&(t.cards=t.cards.filter((function(t){return t.id!=a.body.id})),t.cards.push(a.body))}},onUpVote:function(t){t.votes_remaining>0&&(t.votes_remaining-=1)},onDownVote:function(t){t.votes_remaining<5&&(t.votes_remaining+=1)}},F={handleVote:function(t,e){var a=t.commit;a(e?"onUpVote":"onDownVote")}},W=new c["a"].Store({state:H,getters:K,mutations:U,actions:F}),Y=a("5c96"),q=a.n(Y),B=(a("0fae"),a("b408")),Q=a.n(B);n["default"].config.productionTip=!1,n["default"].use(q.a),n["default"].use(Q.a,"ws://"+window.location.host+"/retro",{store:W}),new n["default"]({store:W,render:function(t){return t(z)}}).$mount("#app")},"743c":function(t,e,a){"use strict";var n=a("2d7d"),s=a.n(n);s.a},"78f8":function(t,e,a){},8129:function(t,e,a){"use strict";var n=a("35d5"),s=a.n(n);s.a},"85ec":function(t,e,a){}});
//# sourceMappingURL=app.b77ea189.js.map